<!doctype html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MailChat</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <div class="shell" id="shell">
    <aside class="sidebar">
      <div class="brand-row">
        <h1>MailChat</h1>
        <button id="mobileSwitchBtn" class="ghost">ðŸ“± Mobile</button>
      </div>
      <div class="toolbar">
        <select id="accountSelect"></select>
        <button id="newAccountBtn">+ Konto</button>
      </div>
      <div class="toolbar">
        <button id="syncBtn" class="full">Synchronisieren</button>
      </div>
      <ul id="chatList" class="chat-list"></ul>
    </aside>

    <main class="chat-main">
      <div class="chat-top">
        <input id="contactInput" placeholder="Kontakt E-Mail" />
        <button id="openChatBtn">Ã–ffnen</button>
      </div>
      <div id="messages" class="messages"></div>
      <form id="sendForm" class="composer">
        <label class="html-switch"><input id="htmlMode" type="checkbox" /> HTML senden</label>
        <textarea id="messageInput" placeholder="Nachricht schreiben..."></textarea>
        <button type="submit">Senden</button>
      </form>
    </main>
  </div>

  <dialog id="accountDialog">
    <form id="accountForm" method="dialog">
      <h2>E-Mail-Konto</h2>
      <label>Name<input name="name" required /></label>
      <label>E-Mail<input name="email" type="email" required /></label>
      <label>IMAP Host<input name="imap_host" required /></label>
      <label>IMAP Port<input name="imap_port" value="993" required /></label>
      <label>SMTP Host<input name="smtp_host" required /></label>
      <label>SMTP Port<input name="smtp_port" value="465" required /></label>
      <label>SMTP Sicherheit
        <select name="smtp_security">
          <option value="auto">Auto (empfohlen)</option>
          <option value="ssl">SSL/TLS</option>
          <option value="starttls">STARTTLS</option>
          <option value="plain">Plain</option>
        </select>
      </label>
      <label>Passwort / App-Passwort<input name="password" type="password" required /></label>
      <label><input name="use_ssl" type="checkbox" checked /> IMAP SSL verwenden</label>
      <div class="dialog-actions">
        <button type="button" id="closeDialogBtn" class="ghost">Abbrechen</button>
        <button type="submit">Speichern</button>
      </div>
    </form>
  </dialog>

  <script src="/static/app.js"></script>
</body>
</html>
